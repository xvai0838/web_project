import{_ as U,r as a,o as V,a as L,c as n,b as e,F as M,e as C,t as i,w as S,d as k,h as g,v as h,i as B,u as N,f as c,n as P,g as z}from"./index-D_xQVRzG.js";import{l as D,r as F}from"./userApi-_ZDq3u6c.js";const T={class:"user-login-page"},E={class:"background-carousel"},H={class:"auth-container"},R={class:"auth-title"},$={class:"form-group"},j={class:"form-group"},A={key:0,class:"form-group"},G=["disabled"],J={key:1,class:"error-msg"},K={class:"switch-mode"},O={__name:"UserLoginPage",setup(Q){const f=N(),s=a(!0),r=a(""),t=a(""),d=a(""),v=a(!1),o=a(""),_=a(["https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&q=80","https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=1920&q=80","https://images.unsplash.com/photo-1426604966848-d7adac402bff?w=1920&q=80"]),p=a(0);let m=null;const y=()=>{p.value=(p.value+1)%_.value.length},I=()=>{s.value=!s.value,t.value="",d.value="",o.value=""},q=()=>{f.push("/")},x=async()=>{if(o.value="",!r.value||!t.value){o.value="请填写用户名和密码";return}if(!s.value&&t.value!==d.value){o.value="两次密码输入不一致";return}v.value=!0;try{s.value?await D(r.value,t.value):await F(r.value,t.value),f.push("/user-profile")}catch(b){o.value=b.message}finally{v.value=!1}};return V(()=>{m=setInterval(y,5e3)}),L(()=>{m&&clearInterval(m)}),(b,u)=>(c(),n("div",T,[e("div",E,[(c(!0),n(M,null,C(_.value,(l,w)=>(c(),n("div",{key:w,class:z(["background-image",{active:p.value===w}]),style:P({backgroundImage:`url(${l})`})},null,6))),128))]),e("button",{class:"back-home-btn",onClick:q}," ← 返回首页 "),e("div",H,[e("h2",R,i(s.value?"用户登录":"用户注册"),1),e("form",{onSubmit:S(x,["prevent"]),class:"auth-form"},[e("div",$,[g(e("input",{"onUpdate:modelValue":u[0]||(u[0]=l=>r.value=l),type:"text",placeholder:"用户名",class:"form-input",required:""},null,512),[[h,r.value]])]),e("div",j,[g(e("input",{"onUpdate:modelValue":u[1]||(u[1]=l=>t.value=l),type:"password",placeholder:"密码",class:"form-input",required:""},null,512),[[h,t.value]])]),s.value?k("",!0):(c(),n("div",A,[g(e("input",{"onUpdate:modelValue":u[2]||(u[2]=l=>d.value=l),type:"password",placeholder:"确认密码",class:"form-input",required:""},null,512),[[h,d.value]])])),e("button",{type:"submit",class:"submit-btn",disabled:v.value},i(v.value?"处理中...":s.value?"登录":"注册"),9,G),o.value?(c(),n("p",J,i(o.value),1)):k("",!0)],32),e("p",K,[B(i(s.value?"没有账号？":"已有账号？")+" ",1),e("span",{onClick:I,class:"switch-link"},i(s.value?"立即注册":"立即登录"),1)])])]))}},Y=U(O,[["__scopeId","data-v-34b7b45b"]]);export{Y as default};
